<!DOCTYPE html>
<html lang="sk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Lumièra Noir – Kolekcia</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600&family=Inter:wght@300;400&display=swap" rel="stylesheet">
<link rel="stylesheet" href="css/style.css">
</head>
<body>

<div class="galaxy"></div>
<div class="city"></div>

<nav>
  <div class="nav-inner">
    <div class="logo">LUMIÈRA</div>
    <div class="menu">
      <a href="index.html">Domov</a>
      <a href="collection.html" class="active">Kolekcia</a>
      <a href="vision.html">Vízia</a>
      <a href="private-order.html">Vlastná objednávka</a>
      <a href="about.html">O nás</a>
      <a href="cart.html">Košík</a>
    </div>
  </div>
</nav>

<section class="section">
  <h2>Kolekcia Artefaktov</h2>
  <div class="grid" id="collectionGrid"></div>
</section>

<section class="wishlist-section">
  <h2>Obľúbené Produkty</h2>
  <div class="container">
    <div id="wishlistGrid"></div>
  </div>
</section>

<!-- MEGA MODAL -->
<div class="modal" id="modal">
  <div class="modal-box">
    <div class="close" id="modalCloseBtn">✕</div>
    <img id="modalImg" src="" alt="Produkt">
    <h3 id="modalName">Názov produktu</h3>
    <p id="modalDesc">Popis produktu</p>
    <select id="modalVariant"></select>
    <div class="modal-buttons">
      <button id="modalUVBtn">Prepnúť UV</button>
      <button id="modalWishlistBtn">Pridať do obľúbených</button>
      <button onclick="addToCartFromModal()">Pridať do košíka</button>
      <button id="modalDetailBtn">Detail produktu</button>
    </div>
  </div>
</div>

<footer>© 2026 Lumièra Noir · Návštevy: <span id="visits">0</span></footer>

<script src="js/app.js"></script>
<script>
document.addEventListener("DOMContentLoaded", () => {
  const grid = document.getElementById("collectionGrid");
  const wishlistGrid = document.getElementById("wishlistGrid");

  // Render produkty do kolekcie
  window.collection.forEach(prod => {
    const div = document.createElement("div");
    div.className = "product";
    div.innerHTML = `
      <img src="${prod.imgA}" alt="${prod.name}">
      <h4>${prod.name}</h4>
      <p>${prod.price} €</p>
    `;
    div.addEventListener("click", () => openModal(prod));
    grid.appendChild(div);
  });

  // Render wishlist
  if(window.wishlist){
    wishlistGrid.innerHTML = "";
    window.wishlist.forEach(prod => {
      const div = document.createElement("div");
      div.className = "product";
      div.innerHTML = `
        <img src="${prod.imgA}" alt="${prod.name}">
        <h4>${prod.name}</h4>
        <p>${prod.price} €</p>
      `;
      wishlistGrid.appendChild(div);
    });
  }

  // Modal funkcie
  const modal = document.getElementById("modal");
  const modalCloseBtn = document.getElementById("modalCloseBtn");
  const modalImg = document.getElementById("modalImg");
  const modalName = document.getElementById("modalName");
  const modalDesc = document.getElementById("modalDesc");
  const modalVariant = document.getElementById("modalVariant");
  const modalUVBtn = document.getElementById("modalUVBtn");
  const modalWishlistBtn = document.getElementById("modalWishlistBtn");
  const modalDetailBtn = document.getElementById("modalDetailBtn");

  function openModal(prod){
    modalImg.src = prod.imgA;
    modalName.innerText = prod.name;
    modalDesc.innerText = prod.desc;
    modalVariant.innerHTML = prod.variant.map(v=>`<option>${v}</option>`).join("");
    modal.style.display = "flex";
    window.currentModalProduct = {...prod};
  }

  modalCloseBtn.addEventListener("click", () => modal.style.display="none");
  window.addEventListener("keydown",(e)=>{ if(e.key==="Escape") modal.style.display="none"; });

  modalUVBtn.addEventListener("click", ()=>{
    document.body.classList.toggle("uv");
  });

  modalWishlistBtn.addEventListener("click", ()=>{
    if(!window.wishlist) window.wishlist=[];
    window.wishlist.push(window.currentModalProduct);
    alert(`${window.currentModalProduct.name} pridaný do obľúbených`);
  });

  modalDetailBtn.addEventListener("click", ()=>{
    alert(`Luxusný detail produktu: ${window.currentModalProduct.name}\n\n${window.currentModalProduct.desc}`);
  });
});
</script>

</body>
</html>
